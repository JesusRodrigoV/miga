<div class="planes-container">
  <div class="header-section">
    <h2>Mis Planes de Negocio</h2>
    <mg-button
      label="+ Nuevo Plan"
      (onClick)="crearNuevoPlan()"
      [loading]="planesStore.isLoading()"
      [fluid]="false"
      severity="primary"
    />
  </div>
  <ul class="plan-list">
    @for (plan of planesStore.planes(); track plan.id) {
    <li class="plan-card">
      <div class="plan-info">
        <span class="status-badge" [class]="plan.estado">
          {{ plan.estado | uppercase }}
        </span>
        <span class="date-info">
          <i class="pi pi-calendar"></i>
          Creado el {{ plan.created_at | date: 'dd MMM, yyyy' }}
        </span>
      </div>
      <div class="plan-actions">
        <mg-button
          label="Abrir"
          icon="pi pi-arrow-right"
          [iconPos]="pos"
          (onClick)="abrir(plan.id)"
          [fluid]="false"
          severity="secondary"
          [size]="size"
        />
      </div>
    </li>
    } @empty {
    <li class="empty-state">
      <i
        class="pi pi-folder-open"
        style="font-size: 2rem; margin-bottom: 1rem"
      ></i>
      <p>Aún no tienes ningún plan.</p>
      <small>¡Crea tu primer plan para comenzar tu emprendimiento!</small>
    </li>
    }
  </ul>
</div>
